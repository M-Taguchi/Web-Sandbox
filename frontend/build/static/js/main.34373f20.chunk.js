(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(30),s=n.n(a),i=(n(126),n(127),n(14)),j=n(7),o=n(9),l=n(5),b=n(8),d=n.n(b),u=n(18),O=n(49),h=n.n(O),x=n(3),p={jwtCsrf:"",setJwtCsrf:function(){}},f=Object(c.createContext)(p),g=function(e){var t=e.children,n=Object(c.useState)(localStorage.getItem("accessCsrf")||""),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(x.jsx)(f.Provider,{value:{jwtCsrf:a,setJwtCsrf:s},children:t})},m=function(){return Object(c.useContext)(f)},C=n(89),v={_post:function(){return[]},_get:function(){return[]},_delete:function(){return[]}},y=Object(c.createContext)(v);h.a.defaults.withCredentials=!1,h.a.defaults.baseURL="https://kanban-test-app.herokuapp.com/api";var w=function(e){var t=e.children,n=m().jwtCsrf,c=function(){var e=Object(u.a)(d.a.mark((function e(t,c,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(t,c,{headers:Object(j.a)({"Content-Type":"application/json","X-CSRF-TOKEN":n},r)}).catch((function(e){throw console.log("\u30a8\u30e9\u30fc"),e}));case 2:return a=e.sent,e.abrupt("return",a.data.body);case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),r=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete(t,{data:n}).catch((function(e){throw console.log("\u30a8\u30e9\u30fc"),e}));case 2:return c=e.sent,e.abrupt("return",c.data.body);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(x.jsx)(y.Provider,{value:{_post:c,_get:function(e,t){var n=Object(C.a)(e,(function(){return h.a.get(e,{params:t}).then((function(e){return e.data.body}))}),{suspense:!0}),c=n.data,r=n.error,a=n.mutate;if(r)throw r;return{data:c,fetch:a}},_delete:r},children:t})},S=function(){return Object(c.useContext)(y)},k=n(88),F=n(17),I=n(48),L=n(82),_=n(41),E=n(85),D=n(13),R=n(21),T=function(e){var t=e.icon,n=Object(I.a)(e,["icon"]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(R.a,Object(j.a)(Object(j.a)({},n),{},{w:6,h:6,as:t}))})},q=function(e){var t=e.header,n=e.content,c=e.handleDeleteCard;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(L.e,{w:"100%",borderWidth:"1px",borderRadius:"lg",p:3,children:[Object(x.jsxs)(L.b,{justifyContent:"space-between",alignItems:"center",children:[Object(x.jsx)(L.f,{fontWeight:"bold",fontSize:"lg",color:"teal.600",children:t}),Object(x.jsx)(_.a,{onClick:function(){return c()},children:Object(x.jsx)(T,{icon:D.b})})]}),Object(x.jsx)(L.a,{children:Object(x.jsx)(L.f,{children:n})})]})})},J=n(42),V=n(83),W=n(84),H=function(e){var t=e.name,n=e.label,c=e.placeholder,r=e.multiple,a=void 0!==r&&r,s=e.defaultValue,i=void 0===s?"":s,o=e.minLength,l=e.maxLength,b=e.required,d=e.validate,u=e.pattern,O=e.inputLeftElement,h=e.inputRightElement,p=e.isValidate,f=void 0===p||p,g=Object(F.c)(),m=g.register,C=g.formState.errors;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(J.a,{isInvalid:C[t],children:[n&&Object(x.jsx)(J.c,{htmlFor:t,children:n}),Object(x.jsxs)(V.b,{children:[O&&Object(x.jsx)(V.c,{children:O}),a?Object(x.jsx)(W.a,Object(j.a)(Object(j.a)({},m(t,{minLength:o&&{value:o,message:"".concat(o,"\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},maxLength:l&&{value:l,message:"".concat(l,"\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},required:b&&"\u5fc5\u9808\u9805\u76ee\u3067\u3059",pattern:u,validate:d})),{},{placeholder:c,defaultValue:i})):Object(x.jsx)(V.a,Object(j.a)(Object(j.a)({},m(t,{minLength:o&&{value:o,message:"".concat(o,"\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},maxLength:l&&{value:l,message:"".concat(l,"\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},required:b&&"\u5fc5\u9808\u9805\u76ee\u3067\u3059",pattern:u,validate:d})),{},{placeholder:c,defaultValue:i})),h&&Object(x.jsx)(V.d,{children:h})]}),f&&(C[t]?Object(x.jsx)(J.b,{mb:2,children:C[t].message}):Object(x.jsx)(L.a,{h:"21px",mt:2,mb:2}))]})})},N=n(87),P=function(e){var t=e.isOpen,n=e.onClose,c=e.onSubmit,r=e.header,a=e.content;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(N.g,{isOpen:t,onClose:n,children:[Object(x.jsx)(N.l,{}),Object(x.jsxs)(N.i,{minH:60,children:[Object(x.jsxs)(N.k,{display:"flex",justifyContent:"space-between",p:4,children:[r,Object(x.jsx)(_.a,{onClick:n,children:Object(x.jsx)(T,{icon:D.b})})]}),Object(x.jsx)(N.h,{pt:0,pb:0,children:a}),Object(x.jsxs)(N.j,{display:"flex",justifyContent:"space-between",p:4,children:[Object(x.jsx)(E.a,{colorScheme:"teal",onClick:c,children:"\u4f5c\u6210"}),Object(x.jsx)(E.a,{onClick:n,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})]})})},A=function(e){var t=e.isOpen,n=e.onClose,c=e.onSubmit,r=e.header,a=e.content;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(N.g,{isOpen:t,onClose:n,children:[Object(x.jsx)(N.l,{}),Object(x.jsxs)(N.i,{minH:60,children:[Object(x.jsxs)(N.k,{display:"flex",justifyContent:"space-between",p:4,children:[r,Object(x.jsx)(_.a,{onClick:n,children:Object(x.jsx)(T,{icon:D.b})})]}),Object(x.jsx)(N.h,{pt:0,pb:0,children:a}),Object(x.jsxs)(N.j,{display:"flex",justifyContent:"space-between",p:4,children:[Object(x.jsx)(E.a,{colorScheme:"red",onClick:c,children:"\u524a\u9664"}),Object(x.jsx)(E.a,{onClick:n,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})]})})},B=function(e){var t=e.title,n=e.cards,r=e.categoryId,a=e.handlers,s=(Object(I.a)(e,["title","cards","categoryId","handlers"]),Object(c.useState)(!1)),i=Object(o.a)(s,2),l=i[0],b=i[1],d=Object(c.useState)(!1),u=Object(o.a)(d,2),O=u[0],h=u[1],p=function(){return h(!1)},f=a.handleCreateCard,g=a.handleDeleteCard,m=Object(F.c)(),C=m.register,v=m.reset;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(L.a,{m:4,p:2,w:60,h:"100%",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(x.jsxs)(L.g,{spacing:2,children:[Object(x.jsxs)(L.c,{w:"100%",pl:2,children:[Object(x.jsxs)(L.b,{justifyContent:"space-between",alignItems:"center",children:[Object(x.jsx)(L.f,{children:t}),Object(x.jsx)(_.a,{onClick:function(){return b(!0)},children:Object(x.jsx)(T,{icon:D.b})})]}),l&&Object(x.jsx)(A,{header:"\u30dc\u30fc\u30c9\u306e\u524a\u9664",content:Object(x.jsxs)(L.f,{children:["\u9078\u629e\u3055\u308c\u305f\u30dc\u30fc\u30c9\u3092\u524a\u9664\u3057\u307e\u3059\u3002",Object(x.jsx)("br",{}),"\u524a\u9664\u3055\u308c\u305f\u30dc\u30fc\u30c9\u306f\u5fa9\u5143\u3067\u304d\u307e\u305b\u3093\u3002",Object(x.jsx)("br",{}),"\u672c\u5f53\u306b\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"]}),isOpen:l,onClose:function(){return b(!1)},onSubmit:function(){return alert("\u524a\u9664\uff01")}})]}),n&&n.map((function(e,t){return Object(x.jsx)(q,{header:e.cardTitle,content:e.cardContent,handleDeleteCard:function(){return g(e.cardId)}},t)})),Object(x.jsx)(E.a,{colorScheme:"teal",leftIcon:Object(x.jsx)(T,{icon:D.a}),onClick:function(){return h(!0)},children:"\u65b0\u898f\u8ffd\u52a0"}),O&&Object(x.jsx)(P,{header:"\u30ab\u30fc\u30c9\u306e\u4f5c\u6210",content:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(H,{name:"cardTitle",label:"\u30bf\u30a4\u30c8\u30eb"}),Object(x.jsx)(H,{name:"cardContent",label:"\u5185\u5bb9",multiple:!0}),Object(x.jsx)("input",Object(j.a)({type:"hidden"},C("categoryId",{value:r})))]}),isOpen:O,onClose:function(){p(),v()},onSubmit:function(){f(),p(),v()}})]})})})},z=function(e){var t=e.categorys,n=Object(I.a)(e,["categorys"]);return Object(x.jsx)(L.b,{children:t.map((function(e,t){return Object(x.jsx)(B,Object(j.a)({title:e.categoryName,cards:e.cards,categoryId:e.categoryId},n),t)}))})},K=function(){var e=Object(F.b)(),t=S(),n=t._post,r=t._get,a=t._delete,s=e.handleSubmit,i=(Object(l.g)(),Object(k.a)()),b=r("/kanban/"),d=b.data,u=b.fetch,O=Object(c.useState)(d.kanban),h=Object(o.a)(O,2),p=h[0],f=h[1];Object(c.useEffect)((function(){f(d.kanban)}),[d]);var g={categorys:p,handlers:{handleCreateCard:s((function(e){var t={card:Object(j.a)({},e)};n("/cards",t).then((function(e){i({title:"\u30ab\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f",position:"top",status:"success",isClosable:!0}),u()})).catch((function(){i({title:"\u30ab\u30fc\u30c9\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f",position:"top",status:"error",isClosable:!0})}))})),handleDeleteCard:function(e){a("/cards/".concat(e)).then((function(e){i({title:"\u30ab\u30fc\u30c9\u3092\u524a\u9664\u3057\u307e\u3057\u305f",position:"top",status:"success",isClosable:!0}),u()})).catch((function(){i({title:"\u30ab\u30fc\u30c9\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f",position:"top",status:"error",isClosable:!0})}))}}};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(F.a,Object(j.a)(Object(j.a)({},e),{},{children:Object(x.jsx)(z,Object(j.a)({},g))}))})},M=function(e){var t=e.name,n=e.label,r=e.placeholder,a=e.minLength,s=e.maxLength,i=e.required,l=e.validate,b=e.pattern,d=e.inputLeftElement,u=e.isValidate,O=void 0===u||u,h=Object(c.useState)(!1),p=Object(o.a)(h,2),f=p[0],g=p[1],m=Object(F.c)(),C=m.register,v=m.formState.errors;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(J.a,{isInvalid:v[t],children:[n&&Object(x.jsx)(J.c,{htmlFor:t,children:n}),Object(x.jsxs)(V.b,{children:[d&&Object(x.jsx)(V.c,{children:d}),Object(x.jsx)(V.a,Object(j.a)(Object(j.a)({},C(t,{minLength:a&&{value:a,message:"".concat(a,"\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},maxLength:s&&{value:s,message:"".concat(s,"\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},required:i&&"\u5fc5\u9808\u9805\u76ee\u3067\u3059",pattern:b,validate:l})),{},{placeholder:r,type:f?"text":"password"})),Object(x.jsx)(V.d,{children:Object(x.jsx)(E.a,{onClick:function(){return g(!f)},variant:"ghost",children:f?Object(x.jsx)(T,{icon:D.g}):Object(x.jsx)(T,{icon:D.h})})})]}),O&&(v[t]?Object(x.jsx)(J.b,{mb:2,children:v[t].message}):Object(x.jsx)(L.a,{h:"21px",mt:2,mb:2}))]})})},U=function(e){var t=e.handleLogin,n=Object(F.c)().formState.isSubmitting;return Object(x.jsx)(L.b,{h:"100vh",w:"100%",bg:"gray.200",textAlign:"center",children:Object(x.jsx)(L.a,{w:"50%",h:"50vh",pt:10,margin:"auto",bg:"white",minW:"600px",maxW:"600px",minH:"480px",maxH:"480px",children:Object(x.jsxs)(L.b,{p:8,gap:10,direction:"column",children:[Object(x.jsx)(L.c,{textAlign:"center",children:"\u30e6\u30fc\u30b6\u30fc\u30ed\u30b0\u30a4\u30f3"}),Object(x.jsx)(L.e,{justifyContent:"center",spacing:8,children:Object(x.jsxs)("form",{onSubmit:t,children:[Object(x.jsx)(H,{name:"userName",label:"\u30e6\u30fc\u30b6\u30fc\u540d",maxLength:20}),Object(x.jsx)(M,{name:"password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",maxLength:20}),Object(x.jsx)(E.a,{mt:4,colorScheme:"teal",isLoading:n,type:"submit",children:"\u30ed\u30b0\u30a4\u30f3"})]})})]})})})},X=function(){var e=Object(F.b)(),t=e.handleSubmit,n=m().setJwtCsrf,c=S()._post,r=Object(l.g)(),a=Object(k.a)(),s={handleLogin:t((function(e){return c("/auth/login",e).then((function(e){n(e.accessCsrf),localStorage.setItem("accessCsrf",e.accessCsrf),a({title:"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f",position:"top",status:"success",isClosable:!0}),r("/")})).catch((function(){a({title:"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f",position:"top",status:"error",isClosable:!0})}))}))};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(F.a,Object(j.a)(Object(j.a)({},e),{},{children:Object(x.jsx)(U,Object(j.a)({},s))}))})},G=n(29),Q=function(e){var t=e.handleLogout,n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(x.jsxs)(L.b,{justifyContent:"space-between",alignItems:"center",p:4,h:20,bg:"teal.300",w:"100vw",position:"fixed",children:[Object(x.jsx)(E.a,{colorScheme:"teal",onClick:function(){s(!0)},children:Object(x.jsx)(T,{icon:D.e})}),a&&Object(x.jsxs)(N.a,{isOpen:a,placement:"left",onClose:function(){s(!1)},children:[Object(x.jsx)(N.f,{}),Object(x.jsxs)(N.c,{children:[Object(x.jsx)(N.e,{display:"flex",justifyContent:"right",p:2,children:Object(x.jsx)(_.a,{onClick:function(){s(!1)},children:Object(x.jsx)(T,{icon:D.b})})}),Object(x.jsx)(N.b,{children:Object(x.jsxs)(L.b,{direction:"column",justifyContent:"center",alignItems:"center",textAlign:"center",gap:1,children:[Object(x.jsxs)(V.b,{children:[Object(x.jsx)(V.c,{pointerEvents:"none",children:Object(x.jsx)(T,{icon:D.f})}),Object(x.jsx)(V.a,{placeholder:"\u691c\u7d22",mb:2})]}),Object(x.jsx)(L.d,{display:"Flex",alignItems:"center",w:"100%",pl:1,h:12,_hover:{bg:"gray.100"},as:G.b,to:"/",children:Object(x.jsxs)(L.b,{gap:3,children:[Object(x.jsx)(T,{icon:D.c}),Object(x.jsx)(L.f,{children:"\u30db\u30fc\u30e0"})]})}),Object(x.jsx)(L.d,{display:"Flex",alignItems:"center",w:"100%",h:12,pl:1,_hover:{bg:"gray.100"},as:G.b,to:"/",children:Object(x.jsxs)(L.b,{gap:3,children:[Object(x.jsx)(T,{icon:D.c}),Object(x.jsx)(L.f,{children:"\u3069\u3063\u304b"})]})}),Object(x.jsx)(L.d,{display:"Flex",alignItems:"center",w:"100%",h:12,pl:1,_hover:{bg:"gray.100"},as:G.b,to:"/",children:Object(x.jsxs)(L.b,{gap:3,children:[Object(x.jsx)(T,{icon:D.c}),Object(x.jsx)(L.f,{children:"\u7570\u6b21\u5143"})]})})]})}),Object(x.jsx)(N.d,{})]})]}),Object(x.jsx)(E.a,{leftIcon:Object(x.jsx)(T,{icon:D.d}),colorScheme:"blue",onClick:t,children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})]})},Y=function(){var e=S()._post,t=Object(l.g)(),n=Object(k.a)(),c={handleLogout:function(){return e("/auth/logout",{}).then((function(e){localStorage.removeItem("accessCsrf"),n({title:"\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f",position:"top",status:"success",isClosable:!0}),t("/login")}))}};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Q,Object(j.a)({},c))})},Z=function(){var e=S()._post,t=Object(l.g)(),n=Object(c.useState)(!0),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){e("/auth").catch((function(){t("/login")})).finally((function(){s(!1)}))}),[]),a?Object(x.jsx)(x.Fragment,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Y,{}),Object(x.jsx)(L.a,{pt:20,children:Object(x.jsx)(l.a,{})})]})},$=Object(i.b)({components:{Drawer:{variants:{alwaysOpen:{parts:["dialog, dialogContainer"],dialog:{pointerEvents:"auto"},dialogContainer:{pointerEvents:"none"}}}}}});var ee=function(){return Object(x.jsx)(i.a,{theme:$,resetCSS:!0,children:Object(x.jsx)(g,{children:Object(x.jsx)(w,{children:Object(x.jsx)(G.a,{children:Object(x.jsx)(c.Suspense,{fallback:Object(x.jsx)("p",{children:"loading..."}),children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"/login",element:Object(x.jsx)(X,{})}),Object(x.jsx)(l.b,{path:"/",element:Object(x.jsx)(Z,{}),children:Object(x.jsx)(l.b,{path:"/",element:Object(x.jsx)(K,{})})}),Object(x.jsx)(l.b,{path:"*",element:Object(x.jsx)("p",{children:"Not Found"})})]})})})})})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},ne=document.getElementById("root");s.a.createRoot(ne).render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(ee,{})})),te()}},[[155,1,2]]]);
//# sourceMappingURL=main.34373f20.chunk.js.map